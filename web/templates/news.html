<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Market News & Flow | Options Edge Scanner</title>
    <link rel="icon" type="image/svg+xml" href="/static/favicon.svg">
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="stylesheet" href="/static/css/news.css">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <a href="/" class="logo-link">
                    <span class="logo-icon">‚óà</span>
                    <span class="logo-text">OPTIONS EDGE SCANNER</span>
                </a>
            </div>
            <nav class="nav-tabs">
                <a href="/" class="nav-tab">Scanner</a>
                <a href="/news" class="nav-tab active">News & Flow</a>
            </nav>
            <div class="header-actions">
                <button class="btn-refresh" id="btn-refresh-all">
                    <span class="refresh-icon">‚Üª</span> Refresh All
                </button>
            </div>
        </header>

        <!-- Main Content - Scrollable -->
        <main class="news-main-scroll">
            
            <!-- Top Bar: Market Overview -->
            <section class="market-bar">
                <div class="market-bar-inner">
                    <div class="index-item" id="index-spy">
                        <span class="index-name">S&P 500</span>
                        <span class="index-price">--</span>
                        <span class="index-change">--</span>
                    </div>
                    <div class="index-item" id="index-dow">
                        <span class="index-name">DOW</span>
                        <span class="index-price">--</span>
                        <span class="index-change">--</span>
                    </div>
                    <div class="index-item" id="index-nasdaq">
                        <span class="index-name">NASDAQ</span>
                        <span class="index-price">--</span>
                        <span class="index-change">--</span>
                    </div>
                    <div class="index-item" id="index-vix">
                        <span class="index-name">VIX</span>
                        <span class="index-price">--</span>
                        <span class="index-change">--</span>
                    </div>
                </div>
            </section>

            <!-- Fear & Greed + Sentiment History -->
            <section class="sentiment-section">
                <div class="sentiment-main-card">
                    <div class="card-header-inline">
                        <h2>üìä Fear & Greed Index</h2>
                        <button class="btn-sm" id="btn-refresh-market" title="Refresh Market Data">
                            <span class="refresh-icon">‚Üª</span>
                        </button>
                    </div>
                    <div class="sentiment-gauge">
                        <div class="gauge-visual">
                            <div class="gauge-arc"></div>
                            <div class="gauge-needle" id="gauge-needle"></div>
                        </div>
                        <div class="gauge-value" id="fg-value">--</div>
                        <div class="gauge-label" id="fg-label">Loading...</div>
                    </div>
                    <div class="sentiment-source" id="fg-source"></div>
                </div>
                
                <div class="sentiment-history-card">
                    <h3>üìà Sentiment Trend</h3>
                    <div class="history-items">
                        <div class="history-item">
                            <span class="history-label">Now</span>
                            <span class="history-value" id="hist-now">--</span>
                        </div>
                        <div class="history-item">
                            <span class="history-label">Yesterday</span>
                            <span class="history-value" id="hist-yesterday">--</span>
                        </div>
                        <div class="history-item">
                            <span class="history-label">1 Week Ago</span>
                            <span class="history-value" id="hist-week">--</span>
                        </div>
                        <div class="history-item">
                            <span class="history-label">1 Month Ago</span>
                            <span class="history-value" id="hist-month">--</span>
                        </div>
                    </div>
                    <div class="sentiment-change" id="sentiment-change"></div>
                </div>
                
                <div class="market-summary-card">
                    <h3>üéØ Market Summary</h3>
                    <div class="summary-text" id="market-summary">
                        Click refresh to load market data...
                    </div>
                </div>
            </section>

            <!-- Two Column Layout -->
            <div class="two-column-layout">
                
                <!-- Left Column -->
                <div class="left-column">
                    
                    <!-- Unusual Options Flow -->
                    <section class="card-section">
                        <div class="card-header">
                            <h2>üêã Unusual Options Flow</h2>
                            <div class="card-header-actions">
                                <button class="btn-info" id="btn-flow-info" title="How to use">?</button>
                                <button class="btn-sm" id="btn-refresh-flow">
                                    <span class="refresh-icon">‚Üª</span>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Info Panel -->
                        <div class="info-panel" id="flow-info-panel">
                            <div class="info-panel-header">
                                <h4>üìñ How to Use Unusual Options Flow</h4>
                                <button class="btn-close" id="btn-close-info">√ó</button>
                            </div>
                            <div class="info-panel-content">
                                <p><strong>Vol/OI > 3:</strong> Volume much higher than open interest = NEW positions being opened</p>
                                <p><strong>Large Premium ($1M+):</strong> Institutional/whale money moving</p>
                                <p><strong>Bullish Flow:</strong> More call premium = someone expects stock UP</p>
                                <p><strong>Bearish Flow:</strong> More put premium = someone expects stock DOWN</p>
                                <p>‚ö†Ô∏è Not a guarantee - could be hedging. Combine with other signals.</p>
                            </div>
                        </div>
                        
                        <div class="flow-filters">
                            <button class="filter-btn active" data-filter="all">All</button>
                            <button class="filter-btn" data-filter="bullish">Bullish</button>
                            <button class="filter-btn" data-filter="bearish">Bearish</button>
                            <button class="filter-btn" data-filter="whale">$5M+</button>
                        </div>
                        
                        <div class="card-meta" id="flow-meta">Click refresh to load</div>
                        <div class="flow-list scrollable-list" id="flow-list">
                            <div class="loading-state">Click refresh to load unusual flow</div>
                        </div>
                    </section>
                    
                    <!-- Stock News -->
                    <section class="card-section">
                        <div class="card-header">
                            <h2>üì∞ Stock News & Sentiment</h2>
                            <button class="btn-sm" id="btn-refresh-news">
                                <span class="refresh-icon">‚Üª</span>
                            </button>
                        </div>
                        <div class="card-meta" id="news-meta">Click refresh to load</div>
                        <div class="news-list scrollable-list" id="news-list">
                            <div class="loading-state">Click refresh to load news</div>
                        </div>
                    </section>
                    
                </div>
                
                <!-- Right Column -->
                <div class="right-column">
                    
                    <!-- Top Movers -->
                    <section class="card-section compact">
                        <div class="card-header">
                            <h3>üìà Top Gainers</h3>
                        </div>
                        <div class="movers-list" id="gainers-list">
                            <div class="loading-state small">Loading...</div>
                        </div>
                    </section>
                    
                    <section class="card-section compact">
                        <div class="card-header">
                            <h3>üìâ Top Losers</h3>
                        </div>
                        <div class="movers-list" id="losers-list">
                            <div class="loading-state small">Loading...</div>
                        </div>
                    </section>
                    
                    <!-- Most Active Options -->
                    <section class="card-section compact">
                        <div class="card-header">
                            <h3>üî• Most Active Options</h3>
                        </div>
                        <div class="active-list" id="active-list">
                            <div class="loading-state small">Loading...</div>
                        </div>
                    </section>
                    
                    <!-- Sector Performance -->
                    <section class="card-section compact">
                        <div class="card-header">
                            <h3>üè≠ Sector Performance</h3>
                        </div>
                        <div class="sector-list" id="sector-list">
                            <div class="loading-state small">Loading...</div>
                        </div>
                    </section>
                    
                    <!-- Upcoming Events -->
                    <section class="card-section compact">
                        <div class="card-header">
                            <h3>üìÖ Upcoming Events</h3>
                        </div>
                        <div class="events-list" id="events-list">
                            <div class="loading-state small">Loading...</div>
                        </div>
                    </section>
                    
                </div>
                
            </div>

        </main>

        <!-- Footer -->
        <footer class="footer">
            <span>Data from free sources. Not financial advice. Always verify before trading.</span>
        </footer>
    </div>

    <script src="/static/js/news.js"></script>
</body>
</html>
